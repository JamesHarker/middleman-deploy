{"note":"Don't delete this file! It's used internally to help with page regeneration.","tagline":"Deploy a middleman built site over rsync or via git (e.g. gh-pages on github).","name":"Middleman Deploy","body":"Middleman Delpoy -- Deploy a [middleman](http://middlemanapp.com/) built site over rsync or via git (e.g. gh-pages on github).\r\n\r\n[![Build Status](https://secure.travis-ci.org/tvaughan/middleman-deploy.png)](http://travis-ci.org/tvaughan/middleman-deploy)\r\n\r\n===\r\n\r\n## QUICK START\r\n\r\n### Step 1\r\n\r\n    gem install middleman-deploy\r\n\r\n### Step 2\r\n\r\n    middleman init example-site\r\n    cd example-site\r\n\r\n### Step 3\r\n\r\nEdit `Gemfile`, and add:\r\n\r\n    gem \"middleman-deploy\", \"~>0.0.1\"\r\n\r\nThen run:\r\n\r\n    bundle install\r\n\r\n### Step 4a - Rsync setup\r\n\r\nFirst be sure that `rsync` is installed.\r\n\r\n#### These settings are required.\r\n\r\nEdit `config.rb`, and add:\r\n\r\n    activate :deploy do |deploy|\r\n      deploy.method = :rsync\r\n      deploy.user = \"tvaughan\"\r\n      deploy.host = \"www.example.com\"\r\n      deploy.path = \"/srv/www/site\"\r\n    end\r\n\r\nAdjust these values accordingly.\r\n\r\n#### These settings are optional.\r\n\r\nTo use a particular SSH port, add:\r\n\r\n      deploy.port = 5309\r\n\r\nDefault is `22`.\r\n\r\nTo remove orphaned files or directories on the remote host, add:\r\n\r\n      deploy.clean = true\r\n\r\nDefault is `false`.\r\n\r\n### Step 4b - Git setup\r\n\r\nFirst be sure that you have already placed your project under revision\r\ncontrol using git.\r\n\r\nFor example, for the default values of remote=\"master\" and\r\nbranch=\"gh-pages\", the output of `git branch -a` should look like:\r\n\r\n      gh-pages\r\n    * master\r\n      remotes/origin/HEAD -> origin/master\r\n      remotes/origin/gh-pages\r\n      remotes/origin/master\r\n\r\nThis shows that \"gh-pages\" exists in the remote and local repos. There\r\nneeds to be at least one commit in \"gh-pages\" with which to start.\r\n\r\nEdit `config.rb`, and add:\r\n\r\n    activate :deploy do |deploy|\r\n      deploy.method = :git\r\n    end\r\n\r\n#### These settings are optional.\r\n\r\nTo use a particular remote, add:\r\n\r\n      deploy.remote = \"some-other-remote-name\"\r\n\r\nDefault is `origin`. Run `git remote -v` to see a list of possible\r\nremotes.\r\n\r\nTo use a particular branch, add:\r\n\r\n      deploy.branch = \"some-other-branch-name\"\r\n\r\nDefault is `gh-pages`. Run `git branch -a` to see a list of possible\r\nbranches.\r\n\r\n### Step 4c - FTP setup\r\n\r\n#### These settings are required.\r\n\r\nEdit `config.rb`, and add:\r\n\r\n    activate :deploy do |deploy|\r\n      deploy.method = :ftp\r\n      deploy.host = \"ftp.example.com\"\r\n      deploy.user = \"tvaughan\"\r\n      deploy.password = \"secret\"\r\n      deploy.path = \"/srv/www/site\"\r\n    end\r\n\r\nAdjust these values accordingly.\r\n\r\n### Step 5\r\n\r\n    middleman build [--clean]\r\n    middleman deploy [--clean]\r\n\r\nTo automatically run middleman-deploy after `middleman build`, add:\r\n\r\n      deploy.after_build = true\r\n\r\nDefault is `false`.\r\n\r\nPlease note that if the `--clean` or `--no-clean` option is passed to\r\n`middleman build` it will not be passed to `middleman deploy`. For now\r\nonly the value of `deploy.clean` in `config.rb` will be used.\r\n\r\n### NOTES\r\n\r\nInspired by the rsync task in [Octopress](https://github.com/imathis/octopress).\r\n","google":""}